<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Usuario de Prueba</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        .info {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #6B9080;
        }
        .credentials {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            font-family: monospace;
        }
        .credentials p {
            margin: 5px 0;
        }
        button {
            background: #6B9080;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
        }
        button:hover {
            background: #5a7a6b;
        }
        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
        }
        .link {
            margin-top: 20px;
        }
        .link a {
            color: #6B9080;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Crear Usuario de Prueba</h1>

        <div class="info">
            <strong>Prop√≥sito:</strong> Esta p√°gina crea un usuario de prueba en el localStorage para que puedas probar el sistema de autenticaci√≥n.
        </div>

        <div class="credentials">
            <h3>Credenciales del Usuario de Prueba:</h3>
            <p><strong>Nombre:</strong> Mar√≠a Garc√≠a</p>
            <p><strong>Email:</strong> maria@ejemplo.com</p>
            <p><strong>Contrase√±a:</strong> 123456</p>
            <p><strong>Tipo:</strong> <span id="tipoUsuario">Gratuito</span></p>
        </div>

        <button onclick="crearUsuarioGratuito()">Crear Usuario Gratuito</button>
        <button onclick="crearUsuarioPremium()" style="background: #8B7A9F;">Crear Usuario Premium</button>
        <button onclick="eliminarUsuarios()" style="background: #c33;">Eliminar Todos los Usuarios</button>

        <div class="success" id="mensaje"></div>

        <div class="link">
            <a href="index.html">‚Üê Volver al Inicio</a>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script>
        function mostrarMensaje(texto, tipo = 'success') {
            const mensaje = document.getElementById('mensaje');
            mensaje.textContent = texto;
            mensaje.style.display = 'block';
            mensaje.style.background = tipo === 'success' ? '#d4edda' : '#f8d7da';
            mensaje.style.color = tipo === 'success' ? '#155724' : '#721c24';

            setTimeout(() => {
                mensaje.style.display = 'none';
            }, 5000);
        }

        function crearUsuarioGratuito() {
            const usuarios = obtenerUsuarios();

            // Verificar si ya existe
            const existe = usuarios.some(u => u.email === 'maria@ejemplo.com');
            if (existe) {
                mostrarMensaje('El usuario ya existe. Eliminalo primero si quieres recrearlo.', 'error');
                return;
            }

            const nuevoUsuario = {
                id: Date.now().toString(),
                nombre: 'Mar√≠a Garc√≠a',
                email: 'maria@ejemplo.com',
                password: '123456',
                tipoUsuario: 'gratuito',
                fechaRegistro: new Date().toISOString()
            };

            usuarios.push(nuevoUsuario);
            guardarUsuarios(usuarios);

            document.getElementById('tipoUsuario').textContent = 'Gratuito';
            mostrarMensaje('‚úì Usuario gratuito creado exitosamente! Puedes iniciar sesi√≥n con maria@ejemplo.com / 123456');
        }

        function crearUsuarioPremium() {
            const usuarios = obtenerUsuarios();

            // Verificar si ya existe
            const existe = usuarios.some(u => u.email === 'maria@ejemplo.com');
            if (existe) {
                mostrarMensaje('El usuario ya existe. Eliminalo primero si quieres recrearlo.', 'error');
                return;
            }

            const nuevoUsuario = {
                id: Date.now().toString(),
                nombre: 'Mar√≠a Garc√≠a',
                email: 'maria@ejemplo.com',
                password: '123456',
                tipoUsuario: 'miembro',
                fechaRegistro: new Date().toISOString()
            };

            usuarios.push(nuevoUsuario);
            guardarUsuarios(usuarios);

            document.getElementById('tipoUsuario').textContent = 'Premium (Miembro)';
            mostrarMensaje('‚úì Usuario premium creado exitosamente! Puedes iniciar sesi√≥n con maria@ejemplo.com / 123456');
        }

        function eliminarUsuarios() {
            if (confirm('¬øEst√°s seguro de que quieres eliminar TODOS los usuarios del sistema?')) {
                localStorage.removeItem('usuarios');
                localStorage.removeItem('usuarioActual');
                mostrarMensaje('‚úì Todos los usuarios han sido eliminados del sistema.');
            }
        }

        // Mostrar estado actual
        window.addEventListener('load', function() {
            const usuarios = obtenerUsuarios();
            const usuario = usuarios.find(u => u.email === 'maria@ejemplo.com');

            if (usuario) {
                const tipo = usuario.tipoUsuario === 'miembro' ? 'Premium (Miembro)' : 'Gratuito';
                document.getElementById('tipoUsuario').textContent = tipo;
                mostrarMensaje('‚ÑπÔ∏è El usuario de prueba ya existe en el sistema.');
            }
        });
    </script>
</body>
</html>
